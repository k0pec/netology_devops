# 5.1 Virt intro
## Home Work

1. ***Паравиртуализация vs Виртуализация на основе ОС***
+ При полной (аппаратной) виртуализации гипервизор устанавливается прямо на "железо" (является сам ОС), гипервизор сам обеспечивает предоставление доступа гостевых ОС к "железу". 
+ Паравиртуализация позволяет запускать виртуальные машины с различными ядрами (Linux, Windows, BSD), при этом каждая ОС использует свое собственное ядро, а ОС хоста используется гипервизором для доступа к оборудованию хоста. 
+ Виртуализация на основе ОС позволяет запускать изолированные ВМ на хосте, но они используют ядро ОС хоста, поэтому запуск различных типов ядер невозможен. 
2. ***Выбор типа виртуализации***
+ Высоконагруженная база данных, чувствительная к отказу - паравиртуализация (выбор обусловлен тем, что при таком типе использования обеспечивается изолированнность ядра гостевой ОС, т.е. процессы на хостовой ОС не будут оказывать влияния на гостевую ОС, а также будет возможность управлять ресурсами гостевой ОС выделяя необходимое количество CPU, RAM и DISK)
+ Различные Java-приложения - виртуализация уровня ОС (для запуска приложений подойдет этот тип виртуализации, он обеспечит изолированную среду выполнения приложения, а гостевая ОС будет легковесна)
+ Windows системы для использования Бухгалтерским отделом - паравиртуализация (данный тип виртуализации позволит использовать собственное ядро гостевой ОС для установки бухгалтерского программного обеспечения, что позволит изолировать его от хостовой ОС)
+ Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера (такой тип организации обеспечит прямой доступ к оборудованию, что позволит использовать максимальную производительность оборудования избежав накладных расходов)
3. ***Выбор системы виртуализации***
+ ```100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.```  
При этом вырианте  возможно выбрать VM Ware vSphere. Этот вариант позволит использовать различные ОС (Linux, Windows, BSD), будет возможно распределять нагрузку и оптимизировать выделение ресурсов. Обеспечивает высокий уровень безопасности. Так же будет поддержка при решении сложных проблем.
+ ```Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.```  
В этом случае подойдет Xen. Это средство виртуализации бесплатно и позволяет использовать различные платформы для гостевых ОС, при этом обеспечивая высокую производительность.
+ ```Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.```  
В этом случае подойдет Hyper-V Server, так как наиболее подходит для Windows инфраструктуры и поставляется бесплатно, обеспечивает высокую производительность гостевых ОС.
+ ```Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.```  
Для данной задачи подойдет исмользование любого средства виртуализации (KVM, VirtualBox(если это окружение требуется на ПК), Hyper-V и т.д.). Для ОС линукс нативным является KVM. Также для тестирования возможно использовать дополнительно Vagrant - это позволит описывать тестовые среды в виде кода (Vagrantfile), что поможет быстро создавать идентичные условия выполнения на разных дистрибутивах.
4. ***Гетерогенная среда виртуализации***
+ Проблемы и сложности гетерогенной среды виртуализации заключаются в:
  - сложности обслуживания и различиях в нюансах работы средств виртуализации, а как следствие иметь необходимость нанимать специалистов разного профиля;
  -  сложности миграции данных и виртуальных машин;
  -  возможна несовместимость технологий средств виртуализации;
  -  НО при всех недостатках и проблемах в некоторых ситуациях использование гетерогенной среды может быть оправдано (например одни среды проще и легце освоить и управлять ими, другие надежнее и производительнее).
+ Для минимизации сложностей и проблем в использовании гетерогенных систем считаю необходимым четко разграничивать ресурсы этих сред, определить какие ВМ где должны "жить" и как эти среды между собой должны взаимодействовать.
+ Я бы выбирал однородную среду виртуализации, если нет зоопарка серверов на различных ОС, необходимости их поддерживать и ограничений в финансах (Hyper-V, VMWare).