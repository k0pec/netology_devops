# 6.1 Data Base. Basics.
## Home Work
1. ***Типы БД***
   + Электронные чеки в json виде  
        Для этого типа лучше подойдут ```Документо-ориентированные БД```, так как в этих БД данные хранятся в виде документов, что и нужно для хранения документа чек со списком определенных полей и связями с другими документами.
   + Склады и автомобильные дороги для логистической компании  
        Для этого типа подойдут ```Графовые БД```, так как в них данные хранятся в виде узлов (складов), ребер (дорог и их описания(длина, предпочтительность)) и свойств(содержат дополнительную информации о складах).
   + Генеалогические деревья  
        Для этого типа подойдут ```Сетевые (паутинные) БД```  
   + Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации  
        Для этого типа подойдут ```key-value БД```, так как данный тип БД может хранить соответствие id сесии и id клиента, а так же задавать ttl сессии.  
   + Отношения клиент-покупка для интернет-магазина  
        Для этого типа лучше всего подойдут ```Реляционные БД```, так как они хранят информацию в виде таблиц (таблица клиентов, таблица товаров, и.д.) и их связей (по ключу).
2. ***Классификация по CAP и PACEL-теореме***
   + Данные записываются на все узлы с задержкой до часа (асинхронная запись) - в данном случает это будет ```AP - система```, так как у нас распределенная система, то мы используем кластер с несколькими узлами, гарантируя доступность и устойчивость к разделению, но с рисками неконсистентности данных. По PACELC  ```PA/EL```, так как мы обеспечиваем высокую доступность системы при разделении иначе высокую скорость ответа.
   + При сетевых сбоях, система может разделиться на 2 раздельных кластера - в данном случае это будет ```CA - система```, так как такое решение возможно при обеспечении ACID требований к СУБД, соответственно это решение требовательно к надежности сети и при сетевых сбоях мы обеспечиваем консистентность данных и доступность в ущерб устойчивости к разделению. По PACELC ```PC/EC```, так как системы стремящиеся к ACID будут стремиться обеспечить консистентность данных.
   + Система может не прислать корректный ответ или сбросить соединение - в данном случае будет ```CP - система```, так как информация корректно обробатывается если изменнеия распространяются по всем серверам кластера, обеспечивая тем самым консистентность и устойчивость к разделению в ущерб доступности. По PACELC ```PA/EC```, так как при распределенных системах ставка делается на консистентность в ущерб доступности.
3. ***BASE и ACID***
   + сочетаться могут, потому что ACID - это стандарт гарантий для поддержания транзакций, не указывает деталей реализации, а BASE - это описание свойств БД (в основном NoSQL), поэтому я считаю, что в теории эти принципы сочетаться могут, но на практике они противопоставляются и не сочетаются.
4. ***Key-value***  
   + В данном случает подойдет ```Redis```, так как он имеет и ttl записей и реакцию на истечение таймаута. 
   + Его минусами можно считать:  
     - объем данных не должен превышать объем свободного ОЗУ сервера, иначе работа замедлится так как данные будут писаться на диск (пусть даже и ssd/nvme, скорость все равно ниже ОЗУ, а так же при постоянных циклах перезаписи ssd/nvme быстро (относительно более медленных hdd)выйдут из строя);  
     - риски несохранения данных;
     - сложность настройки кластера и шардинга.
     